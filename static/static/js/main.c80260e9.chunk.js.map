{"version":3,"sources":["stream.js","network.js","index.js"],"names":["SinglePost","className","href","this","props","id","title","poster","Date","date","toLocaleDateString","React","Component","PostBillboard","state","loaded","failed","posts","Axios","get","then","res","setState","data","catch","map","post","renderInner","App","path","FrontPage","to","ReactDOM","render","document","getElementById"],"mappings":"mSAGMA,E,uKAEE,OAAO,6BAASC,UAAU,QACtB,wBAAIA,UAAU,cACV,uBAAGC,KAAM,MAAQC,KAAKC,MAAMC,IACvBF,KAAKC,MAAME,QAGpB,wBAAIL,UAAU,aACV,4BACI,uBAAGC,KAAM,MAAQC,KAAKC,MAAMG,OAAQN,UAAU,kBACzCE,KAAKC,MAAMG,SAGpB,4BAAK,IAAIC,KAAuB,IAAlBL,KAAKC,MAAMK,MAAaC,uBAE1C,yBAAKT,UAAU,gBACX,uBAAGA,UAAU,YAAYC,KAAM,MAAQC,KAAKC,MAAMC,IAAlD,sB,GAjBSM,IAAMC,WA0DhBC,E,kDAlCX,WAAYT,GAAQ,IAAD,8BACf,cAAMA,IACDU,MAAQ,CACTC,QAAQ,EACRC,QAAQ,EACRC,MAAO,IALI,E,gEASE,IAAD,OCjCbC,IAAMC,IAAI,UDkCAC,MAAK,SAAAC,GACd,EAAKC,SACD,CACIP,QAAQ,EACRE,MAAOI,EAAIE,UAGpBC,OAAM,kBAAM,EAAKF,SAAS,CAACN,QAAQ,S,oCAItC,OAAIb,KAAKW,MAAMC,OACJZ,KAAKW,MAAMG,MAAMQ,KAAI,SAAAC,GAAI,OAAI,kBAAC,EAAD,CAAYrB,GAAIqB,EAAKrB,GAAIE,OAAQmB,EAAKnB,OAAQE,KAAMiB,EAAKjB,KAC7CH,MAAOoB,EAAKpB,WAClD,yBAAKL,UAAU,gBAAgBI,GAAG,gBAAlC,oB,+BAId,OAAQ,6BAASA,GAAG,kBAAkBJ,UAAU,SAC3CE,KAAKwB,mB,GA9BUhB,IAAMC,WEflC,SAASgB,IACL,OACI,kBAAC,IAAD,KACI,6BACI,kBAAC,IAAD,KACI,kBAAC,IAAD,CAAOC,KAAK,WAEZ,kBAAC,IAAD,CAAOA,KAAK,cAEZ,kBAAC,IAAD,CAAOA,KAAK,KACR,kBAAC,EAAD,U,IASlBC,E,uKAGE,OAAQ,yBAAK7B,UAAU,aACnB,4BAAQA,UAAU,UACd,wBAAIA,UAAU,SACV,kBAAC,IAAD,CAAMA,UAAU,OAAO8B,GAAG,KAA1B,mCAIJ,yBAAK9B,UAAU,SACX,wBAAIA,UAAU,cACV,4BAAI,kBAAC,IAAD,CAAM8B,GAAG,UAAT,UACJ,4BAAI,kBAAC,IAAD,CAAMA,GAAG,aAAT,gBAIhB,0BAAM9B,UAAU,QACZ,kBAAC,EAAD,Y,GAlBQU,IAAMC,WAyB9BoB,IAASC,OAAO,kBAACL,EAAD,MAAQM,SAASC,eAAe,W","file":"static/js/main.c80260e9.chunk.js","sourcesContent":["import React from 'react';\r\nimport {load_posts} from \"./network\";\r\n\r\nclass SinglePost extends React.Component {\r\n    render() {\r\n        return <article className=\"post\">\r\n            <h1 className=\"post-title\">\r\n                <a href={\"/p/\" + this.props.id}>\r\n                    {this.props.title}\r\n                </a>\r\n            </h1>\r\n            <ul className=\"post-date\">\r\n                <li>\r\n                    <a href={\"/u/\" + this.props.poster} className=\"post-info-user\">\r\n                        {this.props.poster}\r\n                    </a>\r\n                </li>\r\n                <li>{new Date(this.props.date * 1000).toLocaleDateString()}</li>\r\n            </ul>\r\n            <div className=\"post-content\">\r\n                <a className=\"more-link\" href={\"/p/\" + this.props.id}>Read article</a>\r\n            </div>\r\n        </article>;\r\n    }\r\n}\r\n\r\nclass PostBillboard extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            loaded: false,\r\n            failed: false,\r\n            posts: []\r\n        }\r\n    }\r\n\r\n    componentDidMount() {\r\n        load_posts().then(res => {\r\n            this.setState(\r\n                {\r\n                    loaded: true,\r\n                    posts: res.data\r\n                }\r\n            )\r\n        }).catch(() => this.setState({failed: true}))\r\n    }\r\n\r\n    renderInner() {\r\n        if (this.state.loaded) {\r\n            return this.state.posts.map(post => <SinglePost id={post.id} poster={post.poster} date={post.date}\r\n                                                            title={post.title}/>)\r\n        } else return <div className=\"flipping-load\" id=\"loading-text\">Now loading...</div>\r\n    }\r\n\r\n    render() {\r\n        return (<section id=\"posts-billboard\" className=\"posts\">\r\n            {this.renderInner()}\r\n        </section>);\r\n    }\r\n}\r\n\r\nexport default PostBillboard\r\n","import Axios from 'axios';\r\n\r\nexport function load_posts() {\r\n    return Axios.get(\"/posts\")\r\n}\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport {\r\n    HashRouter as Router,\r\n    Switch,\r\n    Route,\r\n    Link\r\n} from \"react-router-dom\";\r\nimport PostBillboard from \"./stream\";\r\n\r\nfunction App() {\r\n    return (\r\n        <Router>\r\n            <div>\r\n                <Switch>\r\n                    <Route path=\"/login\">\r\n                    </Route>\r\n                    <Route path=\"/register\">\r\n                    </Route>\r\n                    <Route path=\"/\">\r\n                        <FrontPage />\r\n                    </Route>\r\n                </Switch>\r\n            </div>\r\n        </Router>\r\n    );\r\n}\r\n\r\n\r\nclass FrontPage extends React.Component {\r\n\r\n    render() {\r\n        return (<div className=\"container\">\r\n            <header className=\"header\">\r\n                <h1 className=\"title\">\r\n                    <Link className=\"logo\" to=\"/\">\r\n                        Welcome to the blogging system\r\n                    </Link>\r\n                </h1>\r\n                <nav className=\"links\">\r\n                    <ul className=\"hide-links\">\r\n                        <li><Link to=\"/login\">Login</Link></li>\r\n                        <li><Link to=\"/register\">Register</Link></li>\r\n                    </ul>\r\n                </nav>\r\n            </header>\r\n            <main className=\"main\">\r\n                <PostBillboard/>\r\n            </main>\r\n        </div>)\r\n    }\r\n\r\n}\r\n\r\nReactDOM.render(<App/>, document.getElementById(\"root\"))\r\n"],"sourceRoot":""}